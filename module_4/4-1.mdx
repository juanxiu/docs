---
title: 'Amazon Bedrock 에이전트와 Knowledge base 연동'
# description: 'Start building awesome documentation in under 5 minutes'
---

## 단계 5: Knowledge base(KB)에 지침 추가

Knowledge base를 활용하는 방법에 대한 기본 지침을 제공해야 합니다. 예를 들어 다음과 같이 지침을 제공할 수 있습니다.

```
This knowledge base has data about economic trends, company financial statements, and the outcomes of the Federal Open Market Committee meetings.
```

1. Agent builder: PortfolioCreator 페이지에서 Knowledge bases 섹션의 Add 버튼을 클릭합니다.
2. 미리 생성해둔 knowledge base를 선택하고, 아래 내용을 Knowledge base instructions for Agent에 붙여넣은 후 Add 버튼을 클릭합니다. 그 후에 Save 버튼을 눌러 Agent의 설정을 저장합니다.

```
This knowledge base has data about economic trends, company financial statements, and the outcomes of the Federal Open Market Committee meetings.
```

<img width="1445" alt="Image" src="https://static.us-east-1.prod.workshops.aws/public/84fc3c8f-f604-4a52-b108-1e4ddb2e9fd1/static/agent_builder_add_kb.png" />

3. Agent builder: PortfolioCreator 아래 섹션의  Orchestration Strategy 의 Edit 버튼을 클릭합니다.
<img width="811" alt="Image" src="https://genai-yeonsoo.s3.ap-northeast-2.amazonaws.com/edit+%E1%84%92%E1%85%AA%E1%86%A8%E1%84%8B%E1%85%B5%E1%86%AB.png" />

4. Orchestration Strategy 의 Orchestration 탭을 선택합니다. 오케스트레이션 Override orchestration template defaults 라디오 버튼을 토글하고 Confirm 합니다. Activate orchestration template가 활성화되어 있는지 확인하십시오.
<img width="812" alt="Image" src="https://genai-yeonsoo.s3.ap-northeast-2.amazonaws.com/oche+%E1%84%92%E1%85%AA%E1%86%A8%E1%84%8B%E1%85%B5%E1%86%AB.png" />

5. Prompt template editor에서 JSON 형태의 템플릿을 확인할 수 있습니다. 40번째 줄의 `#prompt_session_attributes$ 아래에 다음 내용을 복사하여 붙여넣으세요.
```
Additionally, use the following examples as references when generating company portfolios and formatted emails:

<portfolio_example>

Here is a portfolio of the top 3 real estate companies:
Example of a company portfolio:

  1. NextGenPast Residences with revenue of $180,000, expenses of $22,000 and profit of $158,000 employing 260 people.
  
  2. GlobalRegional Properties Alliance with revenue of $170,000, expenses of $21,000 and profit of $149,000 employing 11 people.
  
  3. InnovativeModernLiving Spaces with revenue of $160,000, expenses of $20,000 and profit of $140,000 employing 10 people.

</portfolio_example>

Here is an example of a formatted email. Double check that the FOMC report is a summary of the knowledge base responses.

<email_format>

Company Portfolio:

  1. NextGenPast Residences with revenue of $180,000, expenses of $22,000 and profit of $158,000 employing 260 people.
  
  2. GlobalRegional Properties Alliance with revenue of $170,000, expenses of $21,000 and profit of $149,000 employing 11 people.
  
  3. InnovativeModernLiving Spaces with revenue of $160,000, expenses of $20,000 and profit of $140,000 employing 10 people.  

FOMC Report:

  Participants noted that recent indicators pointed to modest growth in spending and production. Nonetheless, job gains had been robust in recent months, and the unemployment rate remained low. Inflation had eased somewhat but remained elevated.

  Participants recognized that Russia’s war against Ukraine was causing tremendous human and economic hardship and was contributing to elevated global uncertainty. Against this background, participants continued to be highly attentive to inflation risks.
</email_format>

When asked to generate company portfolios or formatted emails, use these examples as a guide for structure and content.
```

6. 결과는 다음과 유사해야 합니다.
<img width="812" alt="Image" src="https://genai-yeonsoo.s3.ap-northeast-2.amazonaws.com/%E1%84%8E%E1%85%A9%E1%86%BC+%E1%84%92%E1%85%AA%E1%86%A8%E1%84%8B%E1%85%B5%E1%86%AB.png" />

7. 완료되면 하단으로 스크롤하여 Save and exit를 선택합니다.

8. 이제 Agent builder: PortfolioCreator 내에서 Orchestration Strategy 섹션의 Orchestration이 재정의되었는지 확인하세요. 그리고 상단의 Save and exit 버튼을 클릭합니다.

<img width="812" alt="Image" src="https://genai-yeonsoo.s3.ap-northeast-2.amazonaws.com/over+%E1%84%92%E1%85%AA%E1%86%A8%E1%84%8B%E1%85%B5%E1%86%AB.png" />